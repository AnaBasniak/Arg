<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Confirmar entrada</title>
<style>
:root{--bg:#000;--fg:#fff;--muted:#9a9a9a}
*{box-sizing:border-box}html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,Arial,monospace}
.wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
.card{width:100%;max-width:820px;text-align:center}
h1{margin:0;font-weight:800;font-size:clamp(20px,5vw,32px)}
.sub{color:var(--muted);margin-top:10px}
.btns{display:flex;gap:18px;justify-content:center;margin-top:18px}
button{background:transparent;border:1.6px solid var(--fg);color:var(--fg);padding:10px 18px;border-radius:8px;cursor:pointer;font-weight:700}
.tiny{color:var(--muted);font-size:13px;margin-top:10px}
</style>
</head>
<body>
  <div class="wrap">
      <div class="card">
            <h1>Confirme sua entrada</h1>
                  <div class="sub">Ao confirmar, você receberá o link para entrar no grupo privado.</div>
                        <div class="btns">
                                <button id="confirm-join">Confirmar</button>
                                        <button id="confirm-cancel">Cancelar</button>
                                              </div>
                                                    <div class="tiny">Se preferir, peça ao organizador para confirmar manualmente.</div>
                                                        </div>
                                                          </div>

                                                          <script>
                                                          /* CONFIG */
                                                          const WHATSAPP_LINK = 'https://chat.whatsapp.com/BfByCXi4S4sC8KOFqkNwk0?mode=wwt';
                                                          const STORAGE_KEY = 'arg_block_v3';

                                                          /* define e persiste o estado bloqueado antes de redirecionar */
                                                          function setBlockedAndRedirect() {
                                                            try {
                                                                // carrega estado atual (mantém denies caso já haja)
                                                                    let state = { denies: 0, blocked: true };
                                                                        const raw = localStorage.getItem(STORAGE_KEY);
                                                                            if (raw) {
                                                                                  const parsed = JSON.parse(raw);
                                                                                        state.denies = Math.max(parsed.denies || 0, 0);
                                                                                              state.blocked = true;
                                                                                                  }
                                                                                                      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
                                                                                                        } catch (e) {
                                                                                                            // se algo falhar, ainda assim tentamos continuar
                                                                                                                try { localStorage.setItem(STORAGE_KEY, JSON.stringify({denies:0, blocked:true})); } catch(err) {}
                                                                                                                  }

                                                                                                                    // redireciona para o grupo (abre no mesmo tab)
                                                                                                                      window.location.href = WHATSAPP_LINK;
                                                                                                                      }

                                                                                                                      /* handlers */
                                                                                                                      document.getElementById('confirm-join').addEventListener('click', ()=> {
                                                                                                                        // bloqueia antes de redirecionar (o usuário vai sair, mas quando voltar estará bloqueado)
                                                                                                                          setBlockedAndRedirect();
                                                                                                                          });
                                                                                                                          document.getElementById('confirm-cancel').addEventListener('click', ()=> {
                                                                                                                            location.href = 'index.html';
                                                                                                                            });
                                                                                                                            </script>
                                                                                                                            </body>
                                                                                                                            </html>
                                                                                                                            